!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?module.exports=r(require("vue")):"function"==typeof define&&define.amd?define(["vue"],r):(e="undefined"!=typeof globalThis?globalThis:e||self)["vue3-mq"]=r(e.vue)}(this,(function(e){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function t(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function n(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}function o(e){for(var r=1;r<arguments.length;r++){var o=null!=arguments[r]?arguments[r]:{};r%2?n(Object(o),!0).forEach((function(r){t(e,r,o[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):n(Object(o)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(o,r))}))}return e}function i(e,r){return function(e){if(Array.isArray(e))return e}(e)||function(e,r){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],n=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(n=(u=a.next()).done)&&(t.push(u.value),!r||t.length!==r);n=!0);}catch(e){o=!0,i=e}finally{try{n||null==a.return||a.return()}finally{if(o)throw i}}return t}(e,r)||a(e,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return l(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,r){if(e){if("string"==typeof e)return l(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?l(e,r):void 0}}function l(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}var f=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()},c=function(e){var r="",t=Object.keys(e);return t.forEach((function(n,o){var i=e[n];(function(e){return/[height|width]$/.test(e)})(n=f(n))&&"number"==typeof i&&(i+="px"),r+=!0===i?n:!1===i?"not "+n:"("+n+": "+i+")",o<t.length-1&&(r+=" and ")})),r},s=function(e){var r="";return"string"==typeof e?e:e instanceof Array?(e.forEach((function(t,n){r+=c(t),n<e.length-1&&(r+=", ")})),r):c(e)},v={xs:576,sm:768,md:992,lg:1200,xl:1400,xxl:1/0},p={mqAvailableBreakpoints:e.ref({}),currentBreakpoint:e.ref("")},m=e.readonly(p.mqAvailableBreakpoints),d=function(e){return p.currentBreakpoint.value=e},y=e.readonly(p.currentBreakpoint);function b(e){for(var n=g.length-1;n>=0;n--){var o=g[n],i=o.mql,a=o.cb;i.removeEventListener("change",a),g.splice(n,1)}var l;!function(e){for(var t in e){if(!["string","number"].includes(r(t))||!t)throw new Error("Invalid or missing breakpoint key");if("string"==typeof e[t]&&(e[t]=parseFloat(e[t].replace(/[^0-9]/g,""))),"number"!=typeof e[t]||e[t]<0)throw new Error("Invalid breakpoint value for "+t+". Please use a valid number.");if(!e[t])throw new Error("No valid breakpoint value for "+t+" was found")}}(e),l=e,p.mqAvailableBreakpoints.value=l;var f=function(e){var r=Object.keys(e),n=r.map((function(r){return e[r]})),o=[0].concat(u(n.slice(0,-1)));return o.reduce((function(e,n,i){var u=Object.assign({minWidth:n},i<r.length-1?{maxWidth:o[i+1]-1}:{}),a=s(u);return Object.assign(e,t({},r[i],a))}),{})}(e),c=function(e){!function(e,r){var t=window.matchMedia(e),n=function(e){e.matches&&r()};g.push({mql:t,cb:n}),t.addEventListener("change",n),n(t)}(f[e],(function(){d(e)}))};for(var v in f)c(v)}var g=[];function h(e){var r,t=e.mqProp,n=e.isMqPlus,o=void 0===n?{value:!1}:n,u=e.isMqMinus,a=void 0===u?{value:!1}:u,l=e.isMqRange,f=void 0===l?{value:!1}:l,c=Object.entries(m.value);if(0===c.length)return[];if(o.value)t=t.replace(/\+$/,"");else if(a.value)t=t.replace(/-$/,"");else if(f.value&&(!(t=t.split("-"))||2!==t.length))throw new Error("Invalid MQ range provided");if(f.value){var s=c.find((function(e){var r=i(e,2),n=r[0];r[1];return n==t[0].trim()}));if(!s||0===s.length)throw new Error("Range from breakpoint ("+t[0].trim()+") not found");var v=c.find((function(e){var r=i(e,2),n=r[0];r[1];return n==t[1].trim()}));if(!v||0===v.length)throw new Error("Range to breakpoint ("+t[1].trim()+") not found");if(s[1]>v[1]){var p=[v,s];s=p[0],v=p[1]}r=c.filter((function(e){var r=i(e,2),t=(r[0],r[1]);return t>=s[1]&&t<=v[1]}))}else{var d=c.find((function(e){var r=i(e,2),n=r[0];r[1];return n==t}));o.value?r=c.filter((function(e){var r=i(e,2);r[0];return r[1]>=d[1]})):a.value&&(r=c.filter((function(e){var r=i(e,2);r[0];return r[1]<=d[1]})))}return r.sort((function(e,r){return e[1]-r[1]})),r.map((function(e){return e[0]}))}var w={name:"MqLayout",props:{mq:{type:[String,Array]},tag:{type:String,default:"div"},group:{type:Boolean,default:!1}},setup:function(t,n){var i={name:"fade",mode:"out-in"},u=e.computed((function(){return Array.isArray(t.mq)})),a=e.computed((function(){return!u.value&&!0===/\+$/.test(t.mq)})),l=e.computed((function(){return!u.value&&!0===/-$/.test(t.mq)})),f=e.computed((function(){return!u.value&&!0===/^\w*-\w*/.test(t.mq)})),c=e.computed((function(){return u.value?t.mq:a.value||l.value||f.value?h({mqProp:t.mq,isMqPlus:a,isMqMinus:l,isMqRange:f}):[t.mq]})),s=e.computed((function(){return c.value.includes(y.value)})),v=function(o){var i=[],u=function(r){if(!t.group&&i.length>0)return{v:i};e.computed((function(){return function(r){var t=Array.isArray(r),n=!t.value&&!0===/\+$/.test(r),o=!t.value&&!0===/-$/.test(r),i=!t.value&&!0===/^\w*-\w*/.test(r);return e.computed((function(){return t?r:n||o||i?h({mqProp:r,isMqPlus:{value:n},isMqMinus:{value:o},isMqRange:{value:i}}):[r]})).value.includes(y.value)}(r.split(":")[0])})).value&&i.push(e.h(o||n.slots[r],{key:r},o?n.slots[r]():void 0))};for(var a in n.slots){var l=u(a);if("object"===r(l))return l.v}return i};return n.slots.default?function(){return s.value?e.h(t.tag,{},n.slots.default()):e.h()}:function(){var r=o(o({},i),n.attrs),u=t.group?e.TransitionGroup:e.Transition;return e.h(u,r,v(t.tag))}}};return{install:function(r){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.breakpoints,o=void 0===n?v:n,i=t.defaultBreakpoint,u=void 0===i?"sm":i,a=!1;d(u),r.provide("updateBreakpoints",b),r.provide("mq",e.readonly(y)),r.mixin({computed:{$mq:function(){return y.value}},mounted:function(){a||(b(o),a=!0)}}),r.config.globalProperties.$mqAvailableBreakpoints=o,r.component("MqLayout",w)}}}));
//# sourceMappingURL=index.umd.min.js.map
