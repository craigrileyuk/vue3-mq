!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("vue")):"function"==typeof define&&define.amd?define(["vue"],n):(e="undefined"!=typeof globalThis?globalThis:e||self)["vue3-mq"]=n(e.vue)}(this,(function(e){"use strict";function n(e){return function(e){if(Array.isArray(e))return t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var r=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()},o=function(e){var n="",t=Object.keys(e);return t.forEach((function(o,i){var u=e[o];(function(e){return/[height|width]$/.test(e)})(o=r(o))&&"number"==typeof u&&(u+="px"),n+=!0===u?o:!1===u?"not "+o:"("+o+": "+u+")",i<t.length-1&&(n+=" and ")})),n},i=function(e){var n="";return"string"==typeof e?e:e instanceof Array?(e.forEach((function(t,r){n+=o(t),r<e.length-1&&(n+=", ")})),n):o(e)},u=[];function a(e){var t=Object.keys(e),r=t.map((function(n){return e[n]})),o=[0].concat(n(r.slice(0,-1)));return o.reduce((function(e,n,r){var u=Object.assign({minWidth:n},r<t.length-1?{maxWidth:o[r+1]-1}:{}),a=i(u);return Object.assign(e,function(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}({},t[r],a))}),{})}var c={mqAvailableBreakpoints:e.ref({}),currentBreakpoint:e.ref("")},f=e.readonly(c.mqAvailableBreakpoints),l=function(e){return c.currentBreakpoint.value=e},s=e.readonly(c.currentBreakpoint);function m(e){return"[object Array]"===Object.prototype.toString.call(e)}function d(e){for(var n=u.length-1;n>=0;n--){var t=u[n],r=t.mql,o=t.cb;r.removeEventListener("change",o),u.splice(n,1)}var i;i=e,c.mqAvailableBreakpoints.value=i;var f=a(e),s=function(e){!function(e,n){var t=window.matchMedia(e),r=function(e){e.matches&&n()};u.push({mql:t,cb:r}),t.addEventListener("change",r),r(t)}(f[e],(function(){l(e)}))};for(var m in f)s(m)}var p={name:"MqLayout",props:{mq:{required:!0,type:[String,Array]},tag:{type:String,default:"div"}},setup:function(n,t){var r=e.computed((function(){return!m(n.mq)&&"+"===n.mq.slice(-1)})),o=e.computed((function(){var e=Object.keys(f.value),t=r.value?n.mq.slice(0,-1):m(n.mq)?n.mq:[n.mq];return r.value?function(e,n){var t=e.findIndex((function(e){return e===n}));return e.slice(t)}(e,t):t})),i=e.computed((function(){return o.value.includes(s.value)}));return function(){return i.value?e.h(n.tag,{},t.slots.default()):e.h()}}},v={sm:450,md:1250,lg:1/0};return{install:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.breakpoints,r=void 0===t?v:t,o=n.defaultBreakpoint,i=void 0===o?"sm":o,u=!1;l(i),e.provide("updateBreakpoints",d),e.mixin({computed:{$mq:function(){return s.value}},mounted:function(){u||(d(r),u=!0)}}),e.config.globalProperties.$mqAvailableBreakpoints=r,e.component("mq-layout",p)}}}));
//# sourceMappingURL=index.umd.min.js.map
