!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n(require("vue")):"function"==typeof define&&define.amd?define(["vue"],n):(e="undefined"!=typeof globalThis?globalThis:e||self)["vue3-mq"]=n(e.vue)}(this,(function(e){"use strict";function n(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var t=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(t.push(u.value),!n||t.length!==n);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return t}(e,n)||r(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||r(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,n){if(e){if("string"==typeof e)return o(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?o(e,n):void 0}}function o(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}var i=function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()})).toLowerCase()},u=function(e){var n="",t=Object.keys(e);return t.forEach((function(r,o){var u=e[r];(function(e){return/[height|width]$/.test(e)})(r=i(r))&&"number"==typeof u&&(u+="px"),n+=!0===u?r:!1===u?"not "+r:"("+r+": "+u+")",o<t.length-1&&(n+=" and ")})),n},a=function(e){var n="";return"string"==typeof e?e:e instanceof Array?(e.forEach((function(t,r){n+=u(t),r<e.length-1&&(n+=", ")})),n):u(e)},l={mqAvailableBreakpoints:e.ref({}),currentBreakpoint:e.ref("")},f=e.readonly(l.mqAvailableBreakpoints),c=function(e){return l.currentBreakpoint.value=e},v=e.readonly(l.currentBreakpoint);function s(e){for(var n=d.length-1;n>=0;n--){var r=d[n],o=r.mql,i=r.cb;o.removeEventListener("change",i),d.splice(n,1)}var u;u=e,l.mqAvailableBreakpoints.value=u;var f=function(e){var n=Object.keys(e),r=n.map((function(n){return e[n]})),o=[0].concat(t(r.slice(0,-1)));return o.reduce((function(e,t,r){var i,u,l,f=Object.assign({minWidth:t},r<n.length-1?{maxWidth:o[r+1]-1}:{}),c=a(f);return Object.assign(e,(i={},u=n[r],l=c,u in i?Object.defineProperty(i,u,{value:l,enumerable:!0,configurable:!0,writable:!0}):i[u]=l,i))}),{})}(e),v=function(e){!function(e,n){var t=window.matchMedia(e),r=function(e){e.matches&&n()};d.push({mql:t,cb:r}),t.addEventListener("change",r),r(t)}(f[e],(function(){c(e)}))};for(var s in f)v(s)}var d=[];var m={name:"MqLayout",props:{mq:{required:!0,type:[Object]},tag:{type:String,default:"div"}},setup:function(t,r){var o=e.computed((function(){return Array.isArray(t.mq)})),i=e.computed((function(){return!o.value&&!0===/\+$/.test(t.mq)})),u=e.computed((function(){return!o.value&&!0===/-$/.test(t.mq)})),a=e.computed((function(){return!o.value&&!0===/^\w*-\w*/.test(t.mq)})),l=e.computed((function(){return o.value?t.mq:i.value||u.value||a.value?(console.log(f.value),function(e){var t,r=e.mqProp,o=e.isMqPlus,i=void 0===o?{value:!1}:o,u=e.isMqMinus,a=void 0===u?{value:!1}:u,l=e.isMqRange,c=void 0===l?{value:!1}:l,v=Object.entries(f.value);if(0===v.length)return[];if(i.value)r=r.replace(/\+$/,"");else if(a.value)r=r.replace(/-$/,"");else if(c.value&&(!(r=r.split("-"))||2!==r.length))throw new Error("Invalid MQ range provided");if(c.value){var s=v.find((function(e){var t=n(e,2),o=t[0];t[1];return o==r[0].trim()}));if(!s||0===s.length)throw new Error("Range from breakpoint ("+r[0].trim()+") not found");var d=v.find((function(e){var t=n(e,2),o=t[0];t[1];return o==r[1].trim()}));if(!d||0===d.length)throw new Error("Range to breakpoint ("+r[1].trim()+") not found");if(s[1]>d[1]){var m=[d,s];s=m[0],d=m[1]}t=v.filter((function(e){var t=n(e,2),r=(t[0],t[1]);return r>=s[1]&&r<=d[1]}))}else{var p=v.find((function(e){var t=n(e,2),o=t[0];t[1];return o==r}));i.value?t=v.filter((function(e){var t=n(e,2);t[0];return t[1]>=p[1]})):a.value&&(t=v.filter((function(e){var t=n(e,2);t[0];return t[1]<=p[1]})))}return t.sort((function(e,n){return e[1]-n[1]})),t.map((function(e){return e[0]}))}({mqProp:t.mq,isMqPlus:i,isMqMinus:u,isMqRange:a})):[t.mq]})),c=e.computed((function(){return l.value.includes(v.value)}));return function(){return c.value?e.h(t.tag,{},r.slots.default()):e.h()}}},p={sm:450,md:1250,lg:1/0};return{install:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=n.breakpoints,r=void 0===t?p:t,o=n.defaultBreakpoint,i=void 0===o?"sm":o,u=!1;c(i),e.provide("updateBreakpoints",s),e.mixin({computed:{$mq:function(){return v.value}},mounted:function(){u||(s(r),u=!0)}}),e.config.globalProperties.$mqAvailableBreakpoints=r,e.component("MqLayout",m)}}}));
//# sourceMappingURL=index.umd.min.js.map
